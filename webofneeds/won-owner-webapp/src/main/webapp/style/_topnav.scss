@import "flex-layout";
@import "button";
@import "positioning-utils";

won-topnav {
  border-bottom: $thinBorderWidth solid $won-line-gray;
  background: white;

  nav.topnav {
    display: grid;
    grid-auto-flow: column;
    grid-template-areas: "nav_logo nav_title nav_loading nav_slideintoggle nav_signup nav_accountmenu";
    grid-template-columns: min-content 1fr min-content min-content min-content min-content;
    margin: 0 auto;
    padding: 0 0.5rem;
    box-sizing: border-box;
    height: 100%;
    align-items: center;
    max-width: $maxContentWidth;

    .topnav__button {
      //used within the dropdown directive
      white-space: nowrap;

      .topnav__button__icon {
        @include fixed-square($bigiconSize);
      }
    }

    .topnav__logo {
      grid-area: nav_logo;
      margin-right: 0.5rem;

      > img.topnav__logo__icon {
        @include fixed-square($bigiconSize);
      }

      &__menuicon {
        background: $won-primary-color;
        display: block;
        height: 3px;
        position: relative;
        width: 0.4rem;
        background: var(--won-primary-color);
        top: 1.25rem;
        left: -0.5rem;

        &:before,
        &:after {
          background: $won-primary-color;
          content: "";
          display: block;
          height: 100%;
          position: absolute;
          width: 100%;
        }
        &:before {
          top: 10px;
        }

        &:after {
          top: -10px;
        }
      }
    }

    > .topnav__slideintoggle {
      grid-area: nav_slideintoggle;
      display: grid;
      grid-auto-flow: column;
      cursor: pointer;
      align-self: center;
      margin-right: 0.5rem;

      > .topnav__slideintoggle__icon {
        @include fixed-square(1.5rem);
        --local-primary: #{$won-secondary-color};
      }
      > .topnav__slideintoggle__carret {
        @include fixed-square(1.5rem);
        --local-primary: #{$won-secondary-color};

        &.topnav__slideintoggle__carret--expanded {
          transform: rotate(-180deg);
          transition: transform linear 0.25s;
        }
        &:not(.topnav__slideintoggle__carret--expanded) {
          transform: rotate(0deg);
          transition: transform linear 0.25s;
        }
      }
    }

    .topnav__title {
      grid-area: nav_title;
      color: $won-primary-color;
      margin-right: 0.5rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      .topnav__app-title {
        white-space: nowrap;
        font-weight: 700;
      }

      .topnav__divider {
        font-weight: 700;
        margin: 0 0.25rem;
        color: $won-primary-color;
      }

      .topnav__page-title {
        color: $won-primary-color;
        font-weight: 700;
        white-space: nowrap;
      }
    }

    .topnav__loading {
      grid-area: nav_loading;
      margin-right: 0.5rem;
    }

    .topnav__signupbtn {
      grid-area: nav_signup;
      padding-left: 1rem;
      padding-right: 1rem;
      margin-right: 0.5rem;
    }

    won-account-menu {
      grid-area: nav_accountmenu;

      .topnav__carret {
        // with svg-included margins
        @include carretSized;
      }
    }
  }
}
