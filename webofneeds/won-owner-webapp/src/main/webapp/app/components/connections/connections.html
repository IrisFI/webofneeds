<header>
    <won-topnav></won-topnav>
</header>
<main class="connectionscontent" ng-class="{'empty' : !self.hasConnections && !self.hasOwnNeeds}">
    <!-- <div class="opc__inner empty" ng-if="!self.hasConnections && !self.hasOwnNeeds">
        <div class="opc__empty">
            <div class="opc__empty__description">
                <svg class="opc__empty__description__icon"
                    style="--local-primary:var(--won-disabled-color);">
                        <use href="#ico36_incoming"></use>
                </svg>
                <span class="opc__empty__description__text">Here you will see all chats, requests, and suggestions for your needs, but
                    currently there are none. Check again later!</span>
            </div>
            <a ng-click="self.router__stateGoResetParams('createNeed')" class="opc__empty__link clickable">
                <svg style="--local-primary:var(--won-primary-color);"
                    class="opc__empty__link__icon">
                        <use href="#ico36_plus"></use>
                </svg>
                <span class="opc__empty__link__caption">Create a Need</span>
            </a>
        </div>
    </div> -->
    
    <!-- LEFT SIDE -->
    <div class="oir__requests">
        <!-- TODO: move oir__create-need to own component -->
        <!-- TODO: make it visible whether this element is selected? -->
        <div class="oir__create-need clickable"
            ng-click="self.toggleCreate()">
            <svg class="oir__create-need__icon"
                title="Create a new need"
                style="--local-primary:var(--won-primary-color);">
                    <use href="#ico36_plus"></use>
            </svg>
            Create New Need
        </div>
        <won-connections-overview
            on-selected-connection="self.selectedConnection(connectionUri)",
            on-selected-need="self.selectedNeed(needUri)",
            open="self.open">
        </won-connections-overview>
    </div>

    <!-- RIGHT SIDE -->
<<<<<<< HEAD
    <div class="post__contentside post__contentside--create" ng-show="self.showCreateView">
        <!-- TODO: redirect to new need after creation! -->
=======
    <div class="post__contentside" ng-show="self.showCreateView">
        <!-- TODO: needs a border -->
>>>>>>> Added create need card to overview
        <won-create-post></won-create-post>
    </div>
    <div class="post__contentside" ng-if="!self.selectedPost && !self.showCreateView && self.connection && self.connectionType !== self.WON.Closed">
        <won-send-request include-header="true" ng-if="self.connectionType === self.WON.Suggested"></won-send-request>
        <won-post-messages ng-if="self.connectionType === self.WON.Connected || self.connectionType === self.WON.RequestReceived || self.connectionType === self.WON.RequestSent"></won-post-messages>
    </div>
    <div class="post__contentside" ng-if="self.selectedPost && !self.showCreateView">
        <won-post-info include-header="true"></won-post-info>
    </div>
    <div class="post__contentside post__contentside--empty" ng-if="!self.selectedPost && !self.showCreateView && (self.hasConnections || self.hasOwnNeeds) && (!self.connection || self.connectionType === self.WON.Closed)"
               ng-class="{'hidden' : self.connectionUri === undefined}">
        <span class="post__contentside__description__text">
            No Element selected
        </span>
    </div>
</main>
