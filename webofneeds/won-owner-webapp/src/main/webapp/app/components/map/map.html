<won-modal-dialog ng-if="self.showModalDialog"></won-modal-dialog>
<div class="won-modal-atomview" ng-if="self.showAtomOverlay">
    <won-post-info include-header="true" atom-uri="self.viewAtomUri"></won-post-info>
</div>
<div class="won-modal-connectionview" ng-if="self.showConnectionOverlay">
    <won-post-messages connection-uri="self.viewConnUri"></won-post-messages>
</div>
<header>
    <won-topnav></won-topnav>
</header>
<won-toasts></won-toasts>
<won-slide-in ng-if="self.showSlideIns"></won-slide-in>
<main class="ownermap">
    <div class="ownermap__header">
        <div class="ownermap__header__title">
            What's around? <span class="ownermap__header__title__count" ng-if="!self.isOwnerAtomUrisLoading">({{ self.sortedVisibleAtomUriSize }})</span>
        </div>
        <div class="ownermap__header__loading" ng-if="self.isOwnerAtomUrisLoading">
            Loading...
        </div>
        <div class="ownermap__header__updated" ng-if="!self.isOwnerAtomUrisLoading">
            <div class="ownermap__header__updated__time">
                Updated: {{ self.friendlyLastAtomUrisUpdateTimestamp }}
            </div>
            <div class="ownermap__header__updated__reload won-button--filled red" ng-click="self.reload()">
                Reload
            </div>
        </div>
    </div>
    <won-atom-map class="ownermap__map hide-in-responsive" locations="self.locations" add-current-location ng-if="!self.isOwnerAtomUrisToLoad">
    </won-atom-map>
    <div class="ownermap__content">
        <won-atom-card class="ownermap__content__atom" atom-uri="atomUri" ng-repeat="atomUri in self.sortedVisibleAtomUriArray track by atomUri"></won-atom-card>
    </div>
</main>
<won-footer></won-footer>