<header>
    <won-topnav></won-topnav>
    <won-overview-title-bar selection="::3" ng-if="!self.post"></won-overview-title-bar>
    <won-owner-title-bar selection="::1" ng-if="self.post"></won-owner-title-bar>
</header>
<main class="overviewmatchescontent">
    <a class="curtain" ng-if="self.connection"></a>
    <div class="omc__inner">
        <div class="omc__header">
            <div class="dummy"></div>
            <div class="title" ng-if="!self.post">Matches to your needs</div>
            <div class="omc__header__viewtype">
                <a ui-sref="overviewMatches({layout: 'tiles'})">
                    <img ng-src="{{self.layout === 'tiles' ? 'generated/icon-sprite.svg#ico-filter_tile_selected' : 'generated/icon-sprite.svg#ico-filter_tile'}}"
                     class="omc__header__viewtype__icon clickable"/>
                </a>
                <a ui-sref="overviewMatches({layout: 'grid'})">
                    <img ng-src="{{self.layout === 'grid' ? 'generated/icon-sprite.svg#ico-filter_compact_selected' : 'generated/icon-sprite.svg#ico-filter_compact'}}"
                     class="omc__header__viewtype__icon clickable"/>
                </a>
                <a ui-sref="overviewMatches({layout: 'list'})">
                    <img ng-src="{{self.layout === 'list' ? 'generated/icon-sprite.svg#ico-filter_list_selected' : 'generated/icon-sprite.svg#ico-filter_list'}}"
                     class="omc__header__viewtype__icon clickable"/>
                </a>
            </div>
        </div>
        <div ng-if="self.layout === 'tiles'" class="omc__content__flow">
            <won-matches-flow-item
                    connection-uri="m.getIn(['connection','uri'])"
                    ng-repeat="m in self.matches">
            </won-matches-flow-item>
        </div>
        <div ng-if="self.layout === 'grid'" class="omc__content__grid">
            <won-matches-grid-item
                    connection-uri="m.getIn(['connection','uri'])"
                    ng-repeat="m in self.matches">
            </won-matches-grid-item>
        </div>
        <div ng-if="self.layout === 'list'" class="omc__content__list">
            <won-matches-list-item
                    item="item"
                    ng-repeat="(key,item) in self.matchesOfNeed">
            </won-matches-list-item>
        </div>
    </div>
    <div class="omc__sendrequest" ng-if="self.connection">
        <won-send-request></won-send-request>
    </div>
</main>
