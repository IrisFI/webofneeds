<!--
  ~ Copyright 2012  Research Studios Austria Forschungsges.m.b.H.
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<div style="padding-top: 40px;padding-bottom: 8em;" xmlns="http://www.w3.org/1999/html">
	<div ng-show="showPublic()">
		<div style="font-size: 1.8em; text-align: center ;">
			<strong>Postbox</strong>
		</div>

		<div class="row"></br></div>

		<div class="col-md-4 col-md-offset-4">
			<input class="form-control" type="search" ng-model="search" style="padding-right: 30px;"/>
            <span class="glyphicon glyphicon-search" style="position: absolute;right: 0;padding: 8px 27px;"></span>
		</div>

		<div class="row"></br></br></br></div>

		<div>
            <!--Inbox-->
            <div id="inboxCollapse" class="well div-table col-lg-12">
                <div class="div-table-row">
                    <div class="div-table-cell pull-left additional-info-title text-center">Inbox</div>
                    <div class="div-table-cell pull-right">
                        <span >
                            <a href="" ng-show="inboxCollapsed" class="glyphicon glyphicon-chevron-up" ng-click="inboxCollapseClick()"></a>
                        </span>
                        <span >
                            <a href="" ng-show="!inboxCollapsed" class="glyphicon glyphicon-chevron-down" ng-click="inboxCollapseClick()"></a>
                        </span>
                    </div>
                </div>
            </div>
            <div id="inboxArea" ng-show="!inboxCollapsed" class="div-table col-lg-12">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Title</th>
                            <th>
                                <a href="" ng-click="undreadClick()">
                                    Unread
                                    <span >
                                        <a href="" ng-show="undreadSortDesc" class="glyphicon glyphicon-chevron-up" ng-click="undreadClick()"></a>
                                    </span>
                                    <span >
                                        <a href="" ng-show="!undreadSortDesc" class="glyphicon glyphicon-chevron-down" ng-click="undreadClick()"></a>
                                    </span>
                                </a>
                            </th>
                            <th>Created on</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="post in posts | filter: {title: search}">
                            <td class="col-lg-1">        <!--TODO-->
                                <img src="{{getTypePicURI(post.type)}}" tooltip="{{getTypeRepresentation(post.type)}} (click to filter)"/>
                            </td>
                           <!-- <td>{{post.type}}</td> -->
                            <td><a style="font-weight:bold;" href="#/private-link">{{post.title}}</a></td>
                            <td>
                                <i class="fa fa-comment-o fa-lg">&nbsp;3</i>
                                <i class="fa fa-male fa-lg"></i>&nbsp;2</i>
                                <i class="fa fa-puzzle-piece fa-lg"></i>&nbsp;1</i>
                            </td>
                            <td>{{post.time}}</td>
                        </tr>
                        <tr>

                        </tr>
                    </tbody>
                </table>
            </div>

            <!--Drafts-->
            <div id="draftsCollapse" class="well div-table col-lg-12">
                <div class="div-table-row">
                    <div class="div-table-cell pull-left additional-info-title text-center">Drafts</div>
                    <div class="div-table-cell pull-right">
                        <span >
                            <a href="" ng-show="draftsCollapsed" class="glyphicon glyphicon-chevron-up" ng-click="draftsCollapseClick()"></a>
                        </span>
                        <span >
                            <a href="" ng-show="!draftsCollapsed" class="glyphicon glyphicon-chevron-down" ng-click="draftsCollapseClick()"></a>
                        </span>
                    </div>
                </div>
            </div>
            <div id="draftsArea" ng-show="!draftsCollapsed" class="div-table col-lg-12">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Title</th>
                            <th>
                                <a href="" ng-click="createdOnClick()">
                                    Created on
                                        <span >
                                            <a href="" ng-show="createdOnSortDesc" class="glyphicon glyphicon-chevron-up" ng-click="createdOnClick()"></a>
                                        </span>
                                        <span >
                                            <a href="" ng-show="!createdOnSortDesc" class="glyphicon glyphicon-chevron-down" ng-click="createdOnClick()"></a>
                                        </span>
                                </a>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="draft in drafts | filter: {title: search}">
                            <td class="col-lg-1">        <!--TODO-->
                                <img src="{{getTypePicURI(draft.type)}}" tooltip="{{getTypeRepresentation(draft.type)}} (click to filter)"/>
                            </td>
                            <!-- TODO step in create need needs to be specified -->
                            <td><a href="#/create-need/1" style="font-weight:bold;">{{draft.title}}</a></td>
                            <td>{{draft.datetime}}</td>
                            <td><a href="" ng-click="clickOnRemoveButton($index);"><i class="fa fa-times-circle-o fa-lg"></i></a></td>
                        </tr>
                        <tr>

                        </tr>
                    </tbody>
                </table>
            </div>

            <!--Closeed-->
            <div id="closedCollapse" class="well div-table col-lg-12">
                <div class="div-table-row">
                    <div class="div-table-cell pull-left additional-info-title text-center">Closed</div>
                    <div class="div-table-cell pull-right">
                        <span >
                            <a href="" ng-show="closedCollapsed" class="glyphicon glyphicon-chevron-up" ng-click="closedCollapseClick()"></a>
                        </span>
                        <span >
                            <a href="" ng-show="!closedCollapsed" class="glyphicon glyphicon-chevron-down" ng-click="closedCollapseClick()"></a>
                        </span>
                    </div>
                </div>
            </div>
            <div id="closedArea" ng-show="!closedCollapsed" class="div-table col-lg-12">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>Type</th>
                        <th>Title</th>
                        <th>
                            <a href="" ng-click="closedOnClick()">
                                Closeed on
                                <span >
                                    <a href="" ng-show="closedOnSortDesc" class="glyphicon glyphicon-chevron-up" ng-click="closedOnClick()"></a>
                                </span>
                                <span >
                                    <a href="" ng-show="!closedOnSortDesc" class="glyphicon glyphicon-chevron-down" ng-click="closedOnClick()"></a>
                                </span>
                            </a>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="closed in closedList">
                            <td class="col-lg-1">        <!--TODO-->
                                <img src="{{getTypePicURI(closed.type)}}" tooltip="{{getTypeRepresentation(closed.type)}} (click to filter)"/>
                            </td>
                            <!-- <td>{{post.type}}</td> -->
                            <td>{{closed.title}}</a></td>
                            <td>{{closed.time}}</td>
                        </tr>
                        <tr>

                        </tr>
                    </tbody>
                </table>
            </div>
		</div>
	</div>
</div>

<div ng-show="displayConfirmationDialog">
    <form class="form-horizontal container">
        <div class="col-md-5 col-md-offset-4">
            <div class="well">
                <fieldset>
                    <legend>Do you really want to delete chosen draft?</legend>
                    <div class="row col-lg-12">
                        <button type="button" ng-click="clickOnNoButton();" class="btn btn-primary col-lg-6">No</button>
                        <button type="button" ng-click="clickOnYesButton();" class="btn btn-primary col-lg-6">Yes</button>
                    </div>
                </fieldset>
            </div>
        </div>
    </form>
</div>