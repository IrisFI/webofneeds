@prefix : <https://w3id.org/won/message#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <https://w3id.org/won/message> .

<https://w3id.org/won/message> rdf:type owl:Ontology ;
                                owl:versionIRI <https://w3id.org/won/message/1.0> ;
                                owl:imports <https://w3id.org/won/core/1.0> ;
                                <http://purl.org/dc/elements/1.1/abstract> "This ontology is used to model the Message objects central to the Web of Needs."@en ;
                                <http://purl.org/dc/elements/1.1/creator> "Fabian Salcher" ,
                                                                          "Florian Kleedorfer" ,
                                                                          "Yana Panchenko" ;
                                <http://purl.org/dc/elements/1.1/title> "Web of Needs Message Ontology"@en ;
                                <http://purl.org/dc/terms/created> "2013-12-13"^^xsd:date ;
                                <http://purl.org/dc/terms/license> <https://creativecommons.org/licenses/by/4.0/> ;
                                <http://purl.org/vocab/vann/preferredNamespacePrefix> "msg" ;
                                rdfs:comment "Ontology for describing messages in the Web of Needs project."@en .

#################################################################
#    Annotation properties
#################################################################

###  http://purl.org/dc/elements/1.1/abstract
<http://purl.org/dc/elements/1.1/abstract> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/elements/1.1/creator
<http://purl.org/dc/elements/1.1/creator> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/elements/1.1/date
<http://purl.org/dc/elements/1.1/date> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/elements/1.1/description
<http://purl.org/dc/elements/1.1/description> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/elements/1.1/title
<http://purl.org/dc/elements/1.1/title> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/terms/created
<http://purl.org/dc/terms/created> rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/terms/license
<http://purl.org/dc/terms/license> rdf:type owl:AnnotationProperty .


###  http://purl.org/vocab/vann/preferredNamespacePrefix
<http://purl.org/vocab/vann/preferredNamespacePrefix> rdf:type owl:AnnotationProperty .


#################################################################
#    Object Properties
#################################################################

###  https://w3id.org/won/message#containsEnvelope
:containsEnvelope rdf:type owl:ObjectProperty ;
                  rdfs:domain :EnvelopeGraph ;
                  rdfs:range :EnvelopeGraph ;
                  rdfs:label "containsEnvelope" .


###  https://w3id.org/won/message#containsSignature
:containsSignature rdf:type owl:ObjectProperty ;
                   rdfs:domain :EnvelopeGraph ;
                   rdfs:range <http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature> ;
                   rdfs:label "containsSignature" .


###  https://w3id.org/won/message#content
:content rdf:type owl:ObjectProperty ;
         rdfs:domain :Message ;
         rdfs:range :ContentGraph ;
         rdfs:comment "Points to an RDF graph URI that contains the message payload."@en ;
         rdfs:isDefinedBy <https://w3id.org/won/message> ;
         rdfs:label "content" .


###  https://w3id.org/won/message#correspondingRemoteMessage
:correspondingRemoteMessage rdf:type owl:ObjectProperty ;
                            rdfs:domain :Message ;
                            rdfs:range :Message ;
                            rdfs:comment "Points to another message. Messages always exist in two copies: one on the sender's WoN node and one on the receiver's WoN node. The receiver's WoN node copies the message, mints a new URI for it and points to the original message using 'msg:correspondingRemoteMessage'."@en ;
                            rdfs:label "correspondingRemoteMessage" .


###  https://w3id.org/won/message#messageType
:messageType rdf:type owl:ObjectProperty ;
             rdfs:domain :Message ;
             rdfs:range :MessageType ;
             rdfs:comment "Indicates the type of the message."@en ;
             rdfs:isDefinedBy <https://w3id.org/won/message> ;
             rdfs:label "messageType" .


###  https://w3id.org/won/message#previousMessage
:previousMessage rdf:type owl:ObjectProperty ;
                 rdfs:domain :Message ;
                 rdfs:range :Message ;
                 rdfs:label "previousMessage" .


###  https://w3id.org/won/message#recipient
:recipient rdf:type owl:ObjectProperty ;
           rdfs:domain :Message ;
           rdfs:range [ rdf:type owl:Class ;
                        owl:unionOf ( <https://w3id.org/won/core#Atom>
                                      <https://w3id.org/won/core#Connection>
                                    )
                      ] ;
           rdfs:comment "Indicates the receiver of the message, either Socket or Connection."@en ;
           rdfs:isDefinedBy <https://w3id.org/won/message> ;
           rdfs:label "recipient" .


###  https://w3id.org/won/message#recipientAtom
:recipientAtom rdf:type owl:ObjectProperty ;
               rdfs:domain :Message ;
               rdfs:range <https://w3id.org/won/core#Atom> ;
               rdfs:comment "Indicates the Atom that 'contains' the receiver of the message."@en ;
               rdfs:isDefinedBy <https://w3id.org/won/message> ;
               rdfs:label "recipientAtom" .


###  https://w3id.org/won/message#recipientNode
:recipientNode rdf:type owl:ObjectProperty ;
               rdfs:domain :Message ;
               rdfs:range <https://w3id.org/won/core#Node> ;
               rdfs:comment "Indicates the WoN Node the message recipient is hosted on."@en ;
               rdfs:isDefinedBy <https://w3id.org/won/message> ;
               rdfs:label "recipientNode" .


###  https://w3id.org/won/message#sender
:sender rdf:type owl:ObjectProperty ;
        rdfs:domain :Message ;
        rdfs:range [ rdf:type owl:Class ;
                     owl:unionOf ( <https://w3id.org/won/core#Atom>
                                   <https://w3id.org/won/core#Connection>
                                 )
                   ] ;
        rdfs:comment "Indicates the sender of the message."@en ;
        rdfs:isDefinedBy <https://w3id.org/won/message> ;
        rdfs:label "sender" .


###  https://w3id.org/won/message#senderAtom
:senderAtom rdf:type owl:ObjectProperty ;
            rdfs:domain :Message ;
            rdfs:range <https://w3id.org/won/core#Atom> ;
            rdfs:comment "Indicates the Atom that 'contains' the sender of the message."@en ;
            rdfs:isDefinedBy <https://w3id.org/won/message> ;
            rdfs:label "senderAtom" .


###  https://w3id.org/won/message#senderNode
:senderNode rdf:type owl:ObjectProperty ;
            rdfs:domain :Message ;
            rdfs:range <https://w3id.org/won/core#Node> ;
            rdfs:comment "Indicates the WoN Node the message sender is hosted on."@en ;
            rdfs:isDefinedBy <https://w3id.org/won/message> ;
            rdfs:label "senderNode" .


###  https://w3id.org/won/message#signedGraph
:signedGraph rdf:type owl:ObjectProperty ;
             rdfs:domain <http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature> ;
             rdfs:range :MessageGraph ;
             rdfs:label "signedGraph" .


#################################################################
#    Data properties
#################################################################

###  https://w3id.org/won/message#hash
:hash rdf:type owl:DatatypeProperty ;
      rdfs:domain <http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature> ;
      rdfs:range xsd:string ;
      rdfs:comment "The message hash."@en ;
      rdfs:label "hash" .


###  https://w3id.org/won/message#protocolVersion
:protocolVersion rdf:type owl:DatatypeProperty ;
                 rdfs:domain :Message ;
                 rdfs:range xsd:string ;
                 rdfs:label "protocolVersion" .


###  https://w3id.org/won/message#publicKeyFingerprint
:publicKeyFingerprint rdf:type owl:DatatypeProperty ;
                      rdfs:domain <http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature> ;
                      rdfs:range xsd:string ;
                      rdfs:comment "The fingerprint of the sender's public key (SHA-256 hash)." ;
                      rdfs:label "publicKeyFingerprint" .


###  https://w3id.org/won/message#receivedTimestamp
:receivedTimestamp rdf:type owl:DatatypeProperty ;
                   rdfs:domain :Message ;
                   rdfs:range xsd:long ;
                   rdfs:comment "Holds the timestamp assigned when the WoN node received and saved the message."@en ;
                   rdfs:label "receivedTimestamp" .


###  https://w3id.org/won/message#sentTimestamp
:sentTimestamp rdf:type owl:DatatypeProperty ;
               rdfs:domain :Message ;
               rdfs:range xsd:long ;
               rdfs:comment "Holds the timestamp assigned when the WoN node created and sent the message."@en ;
               rdfs:label "sentTimestamp" .


#################################################################
#    Classes
#################################################################

###  http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature
<http://icp.it-risk.iwvi.uni-koblenz.de/ontologies/signature.owl#Signature> rdf:type owl:Class .


###  https://w3id.org/won/core#Atom
<https://w3id.org/won/core#Atom> rdf:type owl:Class .


###  https://w3id.org/won/core#Connection
<https://w3id.org/won/core#Connection> rdf:type owl:Class .


###  https://w3id.org/won/core#Node
<https://w3id.org/won/core#Node> rdf:type owl:Class .


###  https://w3id.org/won/message#ContentGraph
:ContentGraph rdf:type owl:Class ;
              rdfs:subClassOf :MessageGraph ;
              rdfs:label "ContentGraph" .


###  https://w3id.org/won/message#EnvelopeGraph
:EnvelopeGraph rdf:type owl:Class ;
               rdfs:subClassOf :MessageGraph ;
               rdfs:comment "Used to define the type of an RDF graph URI so as to explicitly mark it as an envelope graph. An Envelope contains the addressing information."@en ;
               rdfs:isDefinedBy <https://w3id.org/won/message> ;
               rdfs:label "EnvelopeGraph" .


###  https://w3id.org/won/message#FromExternal
:FromExternal rdf:type owl:Class ;
              rdfs:subClassOf :Message ;
              rdfs:comment "A Message received from another WoN node." ;
              rdfs:label "FromExternal" .


###  https://w3id.org/won/message#FromOwner
:FromOwner rdf:type owl:Class ;
           rdfs:subClassOf :Message ;
           rdfs:comment "A Message generated by an Atom's owner." ;
           rdfs:label "FromOwner" .


###  https://w3id.org/won/message#FromSystem
:FromSystem rdf:type owl:Class ;
            rdfs:subClassOf :Message ;
            rdfs:comment "A Message generated by the WoN node (i.e., the 'System')." ;
            rdfs:label "FromSystem" .


###  https://w3id.org/won/message#Message
:Message rdf:type owl:Class ;
         rdfs:comment "Superclass for messages. They fall into three categories: FromOwner, FromSystem and FromExternal." ;
         rdfs:label "Message" .


###  https://w3id.org/won/message#MessageGraph
:MessageGraph rdf:type owl:Class ;
              rdfs:comment "An RDF graph that belongs to a Message"@en ;
              rdfs:label "MessageGraph" .


###  https://w3id.org/won/message#MessageType
:MessageType rdf:type owl:Class ;
             rdfs:comment "Class containing all WoN message types."@en ;
             rdfs:isDefinedBy <https://w3id.org/won/message> ;
             rdfs:label "MessageType" .


###  https://w3id.org/won/message#ResponseType
:ResponseType rdf:type owl:Class ;
              rdfs:subClassOf :MessageType ;
              rdfs:comment "Indicates the (success/error) state of a response message."@en ;
              rdfs:isDefinedBy <https://w3id.org/won/message> ;
              rdfs:label "ResponseType" .


#################################################################
#    Individuals
#################################################################

###  https://w3id.org/won/message#ActivateMessage
:ActivateMessage rdf:type owl:NamedIndividual ,
                          :MessageType ;
                 rdfs:comment "Type of message that activates an Atom."@en ;
                 rdfs:isDefinedBy <https://w3id.org/won/message> ;
                 rdfs:label "ActivateMessage" .


###  https://w3id.org/won/message#AtomMessage
:AtomMessage rdf:type owl:NamedIndividual ,
                      :MessageType ;
             rdfs:comment """Message sent between an atom's owner and the WoN node hosting the atom. The message is informative only
                   and has no side effect The message is not routed to any other participant."""@en ;
             rdfs:isDefinedBy <https://w3id.org/won/message> ;
             rdfs:label "AtomMessage" .


###  https://w3id.org/won/message#ChangeNotificationMessage
:ChangeNotificationMessage rdf:type owl:NamedIndividual ,
                                    :MessageType ;
                           rdfs:comment "Type of message sent from a WoN Node to indicate that the remote Atom has changed."@en ;
                           rdfs:isDefinedBy <https://w3id.org/won/message> ;
                           rdfs:label "ChangeNotificationMessage" .


###  https://w3id.org/won/message#CloseMessage
:CloseMessage rdf:type owl:NamedIndividual ,
                       :MessageType ;
              rdfs:comment "Type of message that closes a Connection."@en ;
              rdfs:isDefinedBy <https://w3id.org/won/message> ;
              rdfs:label "CloseMessage" .


###  https://w3id.org/won/message#ConnectMessage
:ConnectMessage rdf:type owl:NamedIndividual ,
                         :MessageType ;
                rdfs:comment "Type of message that is sent from Atom A to Atom B in order to create a new Connection."@en ;
                rdfs:isDefinedBy <https://w3id.org/won/message> ;
                rdfs:label "ConnectMessage" .


###  https://w3id.org/won/message#ConnectionMessage
:ConnectionMessage rdf:type owl:NamedIndividual ,
                            :MessageType ;
                   rdfs:comment "Message sent via an established connection. This type is to be used in Socket-specific protocols."@en ;
                   rdfs:isDefinedBy <https://w3id.org/won/message> ;
                   rdfs:label "ConnectionMessage" .


###  https://w3id.org/won/message#CreateMessage
:CreateMessage rdf:type owl:NamedIndividual ,
                        :MessageType ;
               rdfs:comment "Type of message sent to a WoN Node in order to create a new Atom."@en ;
               rdfs:isDefinedBy <https://w3id.org/won/message> ;
               rdfs:label "CreateMessage" .


###  https://w3id.org/won/message#DeactivateMessage
:DeactivateMessage rdf:type owl:NamedIndividual ,
                            :MessageType ;
                   rdfs:comment "Type of message that deactivates an Atom."@en ;
                   rdfs:isDefinedBy <https://w3id.org/won/message> ;
                   rdfs:label "DeactivateMessage" .


###  https://w3id.org/won/message#FailureResponse
:FailureResponse rdf:type owl:NamedIndividual ,
                          :ResponseType ;
                 rdfs:comment "Indicates an error occurred while processing the message."@en ;
                 rdfs:isDefinedBy <https://w3id.org/won/message> ;
                 rdfs:label "FailureResponse" .


###  https://w3id.org/won/message#HintMessage
:HintMessage rdf:type owl:NamedIndividual ,
                      :MessageType ;
             rdfs:comment "Type of message sent by a matching service to an Atom in order to inform its owner of other Atoms possibly interesting for establishing a connection."@en ;
             rdfs:isDefinedBy <https://w3id.org/won/message> ;
             rdfs:label "HintMessage" .


###  https://w3id.org/won/message#OpenMessage
:OpenMessage rdf:type owl:NamedIndividual ,
                      :MessageType ;
             rdfs:comment "Type of Message used to (re)open an existing Connection."@en ;
             rdfs:isDefinedBy <https://w3id.org/won/message> ;
             rdfs:label "OpenMessage" .


###  https://w3id.org/won/message#ReplaceMessage
:ReplaceMessage rdf:type owl:NamedIndividual ,
                         :MessageType ;
                rdfs:comment "Type of message sent to a WoN Node in order replace an Atom's content."@en ;
                rdfs:isDefinedBy <https://w3id.org/won/message> ;
                rdfs:label "ReplaceMessage" .


###  https://w3id.org/won/message#SuccessResponse
:SuccessResponse rdf:type owl:NamedIndividual ,
                          :ResponseType ;
                 rdfs:comment "Indicates that the message was processed successfully."@en ;
                 rdfs:isDefinedBy <https://w3id.org/won/message> ;
                 rdfs:label "SuccessResponse" .


#################################################################
#    General axioms
#################################################################

[ rdf:type owl:AllDisjointClasses ;
  owl:members ( :EnvelopeGraph
                :Message
                :MessageType
                :ResponseType
              )
] .


[ rdf:type owl:AllDifferent ;
  owl:distinctMembers ( :ActivateMessage
                        :AtomMessage
                        :ChangeNotificationMessage
                        :CloseMessage
                        :ConnectMessage
                        :ConnectionMessage
                        :CreateMessage
                        :DeactivateMessage
                        :FailureResponse
                        :HintMessage
                        :OpenMessage
                        :ReplaceMessage
                        :SuccessResponse
                      )
] .


###  Generated by the OWL API (version 5.1.9) https://github.com/owlcs/owlapi/
